## Flask的请求钩子

有时在处理请求之前或之后执行代码会很有用。例如，在请求开始时，我们可能需要创建数据库连接或者认证发起请求的用户。为了避免在每个视图函数中都使用重复的代码，Flask 提供了注册通用函数的功能，注册的函数可在请求被分发到视图函数之前或之后调用。

在请求的钩子函数和视图函数之间共享数据一般使用上下文全局变量g。例如，before_request处理程序时可以从数据库中加载已经登录的用户，并将其保存在g.user中，随后调用视图函数时，视图函数再使用g.user获取用户。

### 一、before_first_request

注册一个函数，在处理第一个请求之前运行。

### 二、before_request

注册一个函数，在每次请求之前执行

### 三、after_request

注册一个函数，如果没有未处理的异常抛出，在每次请求之后运行

### 四、teardown_request

注册一个函数，即使有未处理的异常抛出，也在每次请求之后运行。



app.url_map查看都有哪些url映射。