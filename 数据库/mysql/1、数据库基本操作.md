## 数据库基本语句

### 一、基本命令

1. 启动服务

    说明：以管理员身份运行cmd    

    格式：net start  服务名称    

    示例：net start  mysql

2. 停止服务

    说明：以管理员身份运行cmd

    格式：net  stop   服务名称

    示例：net  stop   mysql

3. 连接数据

    格式：mysql  -hlocalhost  -u用户名  -p  -P3306

    示例：mysql -u root -p

    输入密码

4. 退出登录（断开连接）

    格式：quit  或  exit;

5. 查看版本

    示例：select version();

6. 显示当前时间（连接后可以执行）

    示例：select now();

7. 远程连接

    格式：mysql -h ip地址 -u 用户名 -p -P3306

    输入密码

8. 常见的字段约束

    ```
    Unsigned       无符号  一般给数值型的字段添加                				  如果添加代表当前字段只能存正数
    Int(5)         5代表显示的宽度  如果是有符号默认是11 如果是无符号默认10
    Not null       不能为空 默认字段可以为空 如果添加了 那么此字段不能为空
    Default         默认值
    Primary key     主键约束(主键索引) 不能为空 且唯一 用于表示数据的唯一标识
    Unique          唯一约束(唯一索引) 可以为空 不能重复 具有唯一性Auto_increment  自动递增  一般配合主键去使用
    ```

### 二、库操作（数据库操作必须以英文分号（；）结束）

1. 查看有哪些数据库：show databases;
2. 创建数据库：create database 库名;
3. 进入数据库：use 库名;
4. 查看当前使用的数据库：select database()
5. 删除数据库：drop database 库名;

### 三、表操作

1. 查看库中所有的表：show tables；

2. 创建表：

    格式：create table 表名（字段及类型）;

    注意：表名如果是关键字如show需要加反引号``

3. 删除表：drop table 表名;

4. 查看表结构：desc 表名;

5. 查看建表语句：show create table 表名;

6. 重命名表名：

    1、rename table 表名1 to 表名2;

    2、alter table 表名1 rename as 表名2;

7. 修改表

    alter table 表名 add、drop、change、modify 字段名 类型;

    添加字段：alter table users add gender int after name;

    ​					(可以使用after，不能使用before，first代表插入在第一个)

    添加外键：alter table users add foreign key(c_id) references class(id);

    删除字段：alter table user drop gender;

    修改字段名称：alter table user change gender sex char(1);

    修改字段类型：alter table user modify sex int(1);

8. 修改表的编码格式

    alter table students CHARSET=GBK;

9. 修改自增值

    修改自增值为20

    alter table students AUTO_INCREMENT=20;

### 四、数据操作

1. 增：

    a、全列插入：insert into 表名 values();

    b、缺省插入：insert into 表名(字段1,字段2) values (值1，值2);

    c、同时插入多条数据：insert into 表名 values(……),(……),(……);

    d、将一张表查询结果插入另一张表，此时不需要加values：

    insert into shop(name,address) select name,address from sqlorm.shops;

2. 删：

    a、删除某条数据

    delete from 表名 where 条件;(不写条件时会删掉所有数据，条件一般用主键)

3. 改

    a、修改数据

    update 表名 set name='zhangsan' where id =1;

    UPDATE 表名 SET text=REPLACE(text, 'oldvalue', 'newValue');

4. 查

    a、查询表中全部数据：

    select * from 表名







​	

